(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-787d59bb"],{"2e1c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column-view"},[a("van-nav-bar",{attrs:{title:"意见反馈","left-text":"返回",fixed:"","left-arrow":""},on:{"click-left":t.onNavBarLeftPressed}}),a("div",{staticClass:"under-nav",staticStyle:{"background-color":"white"}},[a("van-cell-group",{staticClass:"main",attrs:{border:!1}},[a("van-field",{staticClass:"field",attrs:{type:"textarea",placeholder:"请输入意见反馈（必填）",rows:"5",autosize:"",border:!1},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("van-cell-group",{staticClass:"sub",attrs:{"title-style":"title",border:!1,title:"图片（可选）"}},[a("div",{staticClass:"flex-row flex-align-center"},[t._l(t.imgFileList,function(e,n){return a("div",{key:n,staticClass:"img-card",on:{click:function(e){return e.stopPropagation(),t.imgCardPressed(n)}}},[a("img-card",{attrs:{"add-size":50,"img-content":e.content,"delete-size":25},on:{onReadImg:t.onReadImg,onDeleteImg:t.onDeleteImg}})],1)}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.imgFileList.length<t.maxImgLength,expression:"imgFileList.length < maxImgLength"}],staticClass:"img-card"},[a("img-card",{attrs:{"add-size":50},on:{onReadImg:t.onReadImg}})],1)],2)]),a("van-cell-group",{staticClass:"sub"},[a("van-field",{attrs:{placeholder:"请输入微信号或者QQ号"},model:{value:t.contactInfo,callback:function(e){t.contactInfo=e},expression:"contactInfo"}})],1)],1),a("div",{staticClass:"commit"},[a("van-button",{attrs:{plain:"",size:"large"},on:{click:t.onCommitPressed}},[t._v("提交")])],1)],1)},s=[],i=(a("96cf"),a("3b8d")),r=(a("4662"),a("28a2")),o=a("f905"),c=a("f122"),l=a("acc2"),u={name:"Advice",components:{ImgCard:o["a"]},data:function(){return{message:"",imgFileList:[],maxImgLength:3,show:!1,contactInfo:""}},methods:{onNavBarLeftPressed:function(){this.$router.back()},imgCardPressed:function(t){Object(r["a"])({images:Object(l["a"])(this.imgFileList),startPosition:t})},onReadImg:function(t){this.imgFileList.push(t)},onDeleteImg:function(t){this.imgFileList.splice(t,1)},commitData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.httpPost(c["d"],{msg:this.message,contactInfo:this.contactInfo,key:e});case 2:a=t.sent,a.success&&(this.toastMsg("提交完成，我们会尽快和您取得联系"),this.$router.back());case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onCommitPressed:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.contactInfo){t.next=3;break}return this.toastMsg("请输入联系方式"),t.abrupt("return");case 3:if(this.message){t.next=6;break}return this.toastMsg("请输入意见反馈"),t.abrupt("return");case 6:return this.showLoading(),t.next=9,Object(l["b"])(this.imgFileList,function(t){e.commitData(t)},function(){e.toastFail("图片上传失败，请重试")});case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},m=u,d=(a("dda5"),a("2877")),g=Object(d["a"])(m,n,s,!1,null,"872c6828",null);e["default"]=g.exports},d681:function(t,e,a){},dda5:function(t,e,a){"use strict";var n=a("d681"),s=a.n(n);s.a}}]);