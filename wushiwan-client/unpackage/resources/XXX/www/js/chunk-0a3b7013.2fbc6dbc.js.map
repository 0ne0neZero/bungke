{"version":3,"sources":["webpack:///./src/views/home/MyNeedReview.vue?10a4","webpack:///src/views/home/MyNeedReview.vue","webpack:///./src/views/home/MyNeedReview.vue?a4dc","webpack:///./src/views/home/MyNeedReview.vue","webpack:///./src/views/home/MyNeedReview.vue?0058"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","title","left-text","fixed","left-arrow","on","click-left","onNavBarLeftPressed","_l","item","index","key","click","$event","onTopBarItemClick","class","order-selected","topBarActiveIndex","_v","_s","refresh","onRefresh","model","value","callback","$$v","isRefreshing","expression","style","offset","finished","isFinished","finished-text","error-text","error","isError","load","onListLoadMore","update:error","isLoading","onListItemClick","getMissionTypeName","missionId","price","uploadTime","uploadUserName","staticRenderFns","MyNeedReviewvue_type_script_lang_js_","name","data","orderType","tableData","pageNo","pageSize","listHeight","height","mounted","$route","query","id","window","innerHeight","$refs","menuBar","offsetHeight","topBar","methods","$router","back","loadData","_loadData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","proceedPropertyId","result","wrap","_context","prev","next","t0","abrupt","httpPost","host","sent","success","current","records","concat","pages","length","stop","apply","arguments","p","property","typePropertyId","getMissionProceedName","push","acceptId","home_MyNeedReviewvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MyNeedReview_vue_vue_type_style_index_0_id_09a85d63_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MyNeedReview_vue_vue_type_style_index_0_id_09a85d63_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-0a3b7013.2fbc6dbc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column-view\"},[_c('div',{ref:\"topBar\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.title,\"left-text\":\"返回\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onNavBarLeftPressed}})],1),_c('div',{ref:\"menuBar\",staticClass:\"under-nav\"},[_c('div',{staticClass:\"orderBar\"},_vm._l((_vm.orderType),function(item,index){return _c('div',{key:index,on:{\"click\":function($event){return _vm.onTopBarItemClick(item,index)}}},[_c('span',{class:{'order-selected':_vm.topBarActiveIndex === index}},[_vm._v(_vm._s(item))])])}),0),_c('div',{staticClass:\"topBarBottomLine\"})]),_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isRefreshing),callback:function ($$v) {_vm.isRefreshing=$$v},expression:\"isRefreshing\"}},[_c('van-list',{ref:\"list\",staticClass:\" overflow-auto\",style:(_vm.listHeight),attrs:{\"offset\":200,\"finished\":_vm.isFinished,\"finished-text\":\"没有更多了\",\"error-text\":\"请求失败，点击重新加载\",\"error\":_vm.isError},on:{\"load\":_vm.onListLoadMore,\"update:error\":function($event){_vm.isError=$event}},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},_vm._l((_vm.tableData),function(item,index){return _c('van-cell',{key:index,on:{\"click\":function($event){return _vm.onListItemClick(item)}}},[_c('div',{staticClass:\"cell\"},[_c('div',[_c('div',{staticClass:\"top-line\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.getMissionTypeName(item)))]),_c('span',{staticClass:\"description\"},[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"bottom-line\"},[_c('span',[_vm._v(\"任务编号：\"+_vm._s(item.missionId))]),_c('span',{staticClass:\"price\"},[_vm._v(\"单价：\"+_vm._s(item.price / 100)+\"元\")])]),_c('div',{staticClass:\"bottom-line\"},[_c('span',[_vm._v(\"提交时间：\"+_vm._s(item.uploadTime))])]),_c('div',{staticClass:\"bottom-line\"},[_c('span',[_vm._v(\"提交者：\"+_vm._s(item.uploadUserName))])])])])])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n* @Author: limeng\n* @Date: 2019-05-19 22:16\n* @Description:\n*/\n<template>\n  <div class=\"column-view\">\n    <div ref=\"topBar\">\n      <van-nav-bar\n        :title=\"title\"\n        left-text=\"返回\"\n        fixed\n        left-arrow\n        @click-left=\"onNavBarLeftPressed\">\n      </van-nav-bar>\n    </div>\n    <div ref=\"menuBar\" class=\"under-nav\">\n      <div class=\"orderBar\">\n        <!--上边的排序筛选-->\n        <div v-for=\"(item,index) in orderType\" :key=\"index\"\n             @click=\"onTopBarItemClick(item,index)\">\n          <span :class=\"{'order-selected':topBarActiveIndex === index}\">{{item}}</span>\n        </div>\n      </div>\n      <div class=\"topBarBottomLine\"></div>\n    </div>\n    <van-pull-refresh v-model=\"isRefreshing\" @refresh=\"onRefresh\">\n      <van-list @load=\"onListLoadMore\" class=\" overflow-auto\" :style=\"listHeight\" v-model=\"isLoading\"\n                ref=\"list\"\n                :offset=\"200\"\n                :finished=\"isFinished\"\n                finished-text=\"没有更多了\"\n                error-text=\"请求失败，点击重新加载\"\n                :error.sync=\"isError\">\n        <van-cell v-for=\"(item,index) in tableData\" :key=\"index\" @click=\"onListItemClick(item)\">\n          <div class=\"cell\">\n            <div>\n              <div class=\"top-line\">\n                <span class=\"title\">{{getMissionTypeName(item)}}</span>\n                <span\n                  class=\"description\">{{item.title}}</span>\n              </div>\n              <div class=\"bottom-line\">\n                <span>任务编号：{{item.missionId}}</span>\n                <span class=\"price\">单价：{{item.price / 100}}元</span>\n              </div>\n              <div class=\"bottom-line\">\n                <span>提交时间：{{item.uploadTime}}</span>\n              </div>\n              <div class=\"bottom-line\">\n                <span>提交者：{{item.uploadUserName}}</span>\n              </div>\n            </div>\n          </div>\n        </van-cell>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n\n<script>\n  import { REVIEW_MISSION_LIST_URL } from \"@/config/host\"\n  import { getPropertyById } from \"@/service/property\"\n\n  export default {\n    name: \"MyNeedReview\",\n    data () {\n      return {\n        missionId: null,\n        title: \"\",\n        orderType: [\"待审核\", \"不合格\", \"已完成\"],\n        topBarActiveIndex: 0,\n        tableData: [],\n        isRefreshing: false,\n        isLoading: false,\n        isError: false,\n        isFinished: false,\n        pageNo: 0,\n        pageSize: 10,\n        listHeight: {\n          height: \"100%\"\n        }\n      }\n    },\n    mounted () {\n      this.missionId = this.$route.query.id\n      this.title = this.$route.query.title\n      this.listHeight.height = window.innerHeight - this.$refs.menuBar.offsetHeight - this.$refs.topBar.offsetHeight + \"px\"\n    },\n    methods: {\n      onNavBarLeftPressed () {\n        this.$router.back()\n      },\n      async loadData () {\n        let proceedPropertyId = null\n        switch (this.topBarActiveIndex) {\n          case 0:\n            proceedPropertyId = 22\n            break\n          case 1:\n            proceedPropertyId = 23\n            break\n          case 2:\n            proceedPropertyId = 24\n            break\n        }\n        const result = await this.httpPost(REVIEW_MISSION_LIST_URL, {\n          pageNo: this.pageNo,\n          pageSize: this.pageSize,\n          missionId: this.missionId,\n          proceedPropertyId: proceedPropertyId\n        })\n        if (result.success) {\n          if (result.data.current === 1) {\n            this.tableData = result.data.records\n          } else {\n            this.tableData = this.tableData.concat(result.data.records)\n          }\n          if (result.data.current === result.data.pages || result.data.records.length === 0) {\n            this.isFinished = true\n          }\n        } else {\n          this.isError = true\n        }\n        this.isRefreshing = false\n        this.isLoading = false\n      },\n      onTopBarItemClick (item, index) {\n        if (this.topBarActiveIndex !== index) {\n          this.topBarActiveIndex = index\n          this.pageNo = 0\n          this.isFinished = false\n        }\n      },\n      getMissionTypeName (item) {\n        const p = getPropertyById(item.typePropertyId)\n        return p.name\n      },\n      getMissionProceedName (item) {\n        const p = getPropertyById(item.proceedPropertyId)\n        return p.name\n      },\n      onListLoadMore () {\n        this.pageNo++\n        this.loadData()\n      },\n      onListItemClick (item) {\n        this.$router.push({ name: \"MissionReview\", query: { id: item.acceptId } })\n      },\n      onRefresh () {\n        this.pageNo = 1\n        this.loadData()\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n\n  .cell {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .title {\n      font-weight: bold;\n      font-size: 16px;\n    }\n\n    .description {\n      margin-left: 20px;\n      color: #676767;\n      width: 200px;\n      height: 30px;\n      display: block;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n    }\n\n    .top-line {\n      display: flex;\n    }\n\n    .bottom-line {\n      color: #a8a8a8;\n\n      .price {\n        margin-left: 20px;\n      }\n    }\n\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyNeedReview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyNeedReview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyNeedReview.vue?vue&type=template&id=09a85d63&scoped=true&\"\nimport script from \"./MyNeedReview.vue?vue&type=script&lang=js&\"\nexport * from \"./MyNeedReview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyNeedReview.vue?vue&type=style&index=0&id=09a85d63&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09a85d63\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyNeedReview.vue?vue&type=style&index=0&id=09a85d63&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyNeedReview.vue?vue&type=style&index=0&id=09a85d63&scoped=true&lang=less&\""],"sourceRoot":""}