(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42fed0cd"],{"4bfa":function(t,e,i){"use strict";var s=i("8d4e"),n=i.n(s);n.a},"84e1":function(t,e,i){},"8d4e":function(t,e,i){},c19a:function(t,e,i){"use strict";var s=i("e461"),n=i.n(s);n.a},d057:function(t,e,i){"use strict";var s=i("84e1"),n=i.n(s);n.a},e461:function(t,e,i){},eb94:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column-view"},[i("div",{ref:"topBar"},[i("van-nav-bar",{attrs:{title:"我的任务","right-text":"接任务","left-text":"返回",fixed:"","left-arrow":""},on:{"click-left":t.onNavBarLeftPressed,"click-right":t.onNavBarRightPressed}})],1),i("div",{staticClass:"under-nav top-select-bar"},[i("div",{staticClass:"tab-div",class:{"show-border-bottom":t.showBottomLine[0]},on:{click:function(e){return t.onTopTabClick(0)}}},[i("span",[t._v("接单记录")])]),i("div",{staticClass:"tab-div",class:{"show-border-bottom":t.showBottomLine[1]},on:{click:function(e){return t.onTopTabClick(1)}}},[i("span",[t._v("我的发布")])])]),i("div",{staticStyle:{flex:"1"}},[i("my-mission-accept",{directives:[{name:"show",rawName:"v-show",value:t.showBottomLine[0],expression:"showBottomLine[0]"}]}),i("my-mission-publish",{directives:[{name:"show",rawName:"v-show",value:t.showBottomLine[1],expression:"showBottomLine[1]"}],attrs:{"will-show":t.showBottomLine[1]}})],1)])},n=[],a=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"menuBar"},[i("div",{staticClass:"orderBar"},t._l(t.orderType,function(e,s){return i("div",{key:s,on:{click:function(i){return t.onTopBarItemClick(e,s)}}},[i("span",{class:{"order-selected":t.topBarActiveIndex===s}},[t._v(t._s(e))])])}),0),i("div",{staticClass:"topBarBottomLine"})]),i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefreshing,callback:function(e){t.isRefreshing=e},expression:"isRefreshing"}},[i("van-list",{ref:"list",staticClass:" overflow-auto",style:t.listHeight,attrs:{offset:200,finished:t.isFinished,"finished-text":"没有更多了","error-text":"请求失败，点击重新加载",error:t.isError},on:{load:t.onListLoadMore,"update:error":function(e){t.isError=e}},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},t._l(t.tableData,function(e,s){return i("van-cell",{key:s,on:{click:function(i){return t.onItemPressed(e)}}},[i("div",{staticClass:"cell"},[i("div",[i("div",{staticClass:"top-line"},[i("span",{staticClass:"title"},[t._v(t._s(t.getMissionTypeName(e)))]),i("span",{staticClass:"description"},[t._v(t._s(e.title))])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("任务编号："+t._s(e.missionId))]),i("span",{staticClass:"price"},[t._v("单价："+t._s(e.price/100)+"元")])])]),i("van-button",{directives:[{name:"show",rawName:"v-show",value:21===e.proceedPropertyId,expression:"item.proceedPropertyId === 21"}],attrs:{plain:"",type:"danger"},on:{click:function(i){return i.stopPropagation(),t.onUploadImgPressed(e)}}},[t._v("\n            上传验证\n          ")])],1)])}),1)],1)],1)},r=[],c=(i("7f7f"),i("96cf"),i("3b8d")),l=i("f122"),d=i("a651"),h={name:"MyMissionAccept",data:function(){return{orderType:["全部","待提交","待审核","不合格","已完成"],topBarActiveIndex:0,tableData:[],isRefreshing:!1,isLoading:!1,isError:!1,isFinished:!1,pageNo:0,pageSize:10,listHeight:{height:"100%"},isGotoFinishPage:!1}},activated:function(){this.isGotoFinishPage&&(this.loadData(),this.isGotoFinishPage=!1)},mounted:function(){this.listHeight.height=this.$el.parentNode.offsetHeight-this.$refs.menuBar.offsetHeight+"px"},methods:{loadData:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.httpPost(l["k"],{pageNo:this.pageNo,pageSize:this.pageSize,orderType:this.topBarActiveIndex});case 2:e=t.sent,e.success?(1===e.data.current?this.tableData=e.data.records:this.tableData=this.tableData.concat(e.data.records),e.data.current!==e.data.pages&&0!==e.data.records.length||(this.isFinished=!0)):this.isError=!0,this.isRefreshing=!1,this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onTopBarItemClick:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.topBarActiveIndex!==i&&(this.topBarActiveIndex=i,this.pageNo=0,this.isFinished=!1);case 1:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),getMissionTypeName:function(t){var e=Object(d["b"])(t.typePropertyId);return e.name},onListLoadMore:function(){this.pageNo++,this.loadData()},onUploadImgPressed:function(t){console.log("111"),this.isGotoFinishPage=!0,this.$router.push({name:"FinishMission",query:{id:t.missionId}})},onItemPressed:function(t){t.proceedPropertyId>21&&this.$router.push({name:"MissionReview",query:{id:t.acceptId}})},onRefresh:function(){this.pageNo=1,this.loadData()}}},u=h,p=(i("4bfa"),i("2877")),f=Object(p["a"])(u,o,r,!1,null,"0714c7af",null),v=f.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefreshing,callback:function(e){t.isRefreshing=e},expression:"isRefreshing"}},[i("van-list",{ref:"list",staticClass:"overflow-auto",style:t.listHeight,attrs:{offset:200,finished:t.isFinished,"finished-text":"没有更多了","error-text":"请求失败，点击重新加载",error:t.isError},on:{load:t.onListLoadMore,"update:error":function(e){t.isError=e}},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},t._l(t.tableData,function(e,s){return i("van-cell",{key:s,on:{click:function(i){return t.onListItemClick(e)}}},[i("div",{staticClass:"cell"},[i("div",[i("div",{staticClass:"top-line"},[i("span",{staticClass:"title"},[t._v(t._s(t.getMissionTypeName(e)))]),i("span",{staticClass:"description"},[t._v(t._s(e.title))])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("任务编号："+t._s(e.missionId))]),i("span",{staticClass:"price"},[t._v("单价："+t._s(e.price/100)+"元")])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("剩余数量："+t._s(e.count))])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("置顶结束时间："+t._s(e.topEndTime))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.statusPropertyId>28,expression:"item.statusPropertyId > 28"}]},[i("div",{staticClass:"bottom-line"},[i("span",[t._v("待审核数量："+t._s(e.waitingReviewCount))])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("已完成数量："+t._s(e.finishCount))])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("不合格数量："+t._s(e.rejectedCount))])])]),i("div",{staticClass:"bottom-line"},[i("span",[t._v("任务状态："+t._s(t.getMissionStatusName(e)))])])])])])}),1)],1)],1)},g=[],b={name:"MyMissionPublish",data:function(){return{tableData:[],isRefreshing:!1,isLoading:!1,isError:!1,isFinished:!1,pageNo:0,pageSize:10,listHeight:{height:"100%"}}},props:{willShow:{type:Boolean}},mounted:function(){this.listHeight.height=this.$el.parentNode.offsetHeight+"px"},watch:{willShow:function(t,e){t&&0===this.tableData.length&&this.loadData()}},methods:{loadData:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.httpPost(l["l"],{pageNo:this.pageNo,pageSize:this.pageSize});case 2:e=t.sent,e.success?(1===e.data.current?this.tableData=e.data.records:this.tableData=this.tableData.concat(e.data.records),e.data.current!==e.data.pages&&0!==e.data.records.length||(this.isFinished=!0)):this.isError=!0,this.isRefreshing=!1,this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onTopBarItemClick:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.topBarActiveIndex!==i&&(this.topBarActiveIndex=i,this.pageNo=0,this.isFinished=!1);case 1:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),getMissionTypeName:function(t){var e=Object(d["b"])(t.typePropertyId);return e.name},onListLoadMore:function(){this.pageNo++,this.loadData()},onListItemClick:function(t){this.$router.push({name:"MyNeedReview",query:{id:t.missionId,title:t.title}})},onRefresh:function(){this.pageNo=1,this.loadData()},getMissionStatusName:function(t){var e=Object(d["b"])(t.statusPropertyId);return e.name}}},w=b,_=(i("d057"),Object(p["a"])(w,m,g,!1,null,"2081bc47",null)),y=_.exports,C={name:"MyMission",components:{MyMissionPublish:y,MyMissionAccept:v},data:function(){return{showBottomLine:[!0,!1]}},methods:{onNavBarLeftPressed:function(){this.$router.back()},onNavBarRightPressed:function(){this.$router.push({name:"AcceptMission"})},onTopTabClick:function(t){var e=[!1,!1];0===t?(e[0]=!0,e[1]=!1):(e[1]=!0,e[0]=!1),a["a"].set(this,"showBottomLine",e)}}},x=C,k=(i("c19a"),Object(p["a"])(x,s,n,!1,null,"8a01cda4",null));e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-42fed0cd.ee544783.js.map