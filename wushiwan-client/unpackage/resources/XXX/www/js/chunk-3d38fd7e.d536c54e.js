(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d38fd7e"],{"04cb":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grayPageBG"},[i("div",{ref:"topBar"},[i("van-nav-bar",{attrs:{title:"接单赚钱","right-text":"我的任务","left-text":"返回","left-arrow":""},on:{"click-left":t.onNavBarLeftPressed,"click-right":t.onNavBarRightPressed}},[i("form",{attrs:{slot:"title",action:"/"},slot:"title"},[i("van-search",{staticClass:"search",attrs:{shape:"round",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.searchData,callback:function(e){t.searchData=e},expression:"searchData"}})],1)])],1),i("div",{staticStyle:{display:"flex"},style:t.listHeight},[i("van-list",{directives:[{name:"show",rawName:"v-show",value:t.showLeftList,expression:"showLeftList"}],staticClass:"list overflow-auto left-list"},t._l(t.missionTypeList,function(e,s){return i("div",{key:s,staticClass:"category",class:{"category-selected":s===t.leftListActiveIndex},on:{click:function(i){return t.onLeftListItemClick(e,s)}}},[i("span",[t._v(t._s(e.name))])])}),0),i("div",{staticClass:"right-list"},[i("div",{ref:"menuBar"},[i("div",{staticClass:"orderBar"},[i("van-button",{attrs:{plain:"",type:"primary"},on:{click:t.onLeftListShowPressed}},[t._v(t._s(t.currentMissionTypeName))]),t._l(t.orderType,function(e,s){return i("div",{key:s,on:{click:function(i){return t.onRightListBarItemClick(e,s)}}},[i("span",{class:{"order-selected":t.rightListBarActiveIndex===s}},[t._v(t._s(e))])])})],2),i("div",{staticClass:"topBarBottomLine"})]),i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefreshing,callback:function(e){t.isRefreshing=e},expression:"isRefreshing"}},[i("van-list",{ref:"rightList",staticClass:"list overflow-auto",style:t.rightListHeight,attrs:{offset:200,finished:t.isFinished,"finished-text":"没有更多了","error-text":"请求失败，点击重新加载",error:t.isError},on:{load:t.onRightListLoad,"update:error":function(e){t.isError=e}},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},t._l(t.tableData,function(e,s){return i("van-cell",{key:s,on:{click:function(i){return t.onRightListItemClick(e)}}},[i("accept-mission-item",{attrs:{"mission-item":e}})],1)}),1)],1)],1)],1)])},n=[],r=(i("20d6"),i("96cf"),i("3b8d")),a=(i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("img",{staticClass:"img",attrs:{src:t.imgFullPath(t.missionItem.imgUrl)}}),i("div",{staticStyle:{display:"flex","flex-direction":"column","margin-left":"10px"}},[i("span",{staticClass:"title"},[t._v(t._s(t.missionTypeName))]),i("span",{staticClass:"description"},[t._v(t._s(t.missionItem.title))]),i("span",{staticClass:"price"},[t._v(t._s("单价: "+t.missionItem.price/100+"元"))])])])}),o=[],c=i("a651"),h={name:"AcceptMissionItem",data:function(){return{}},props:{missionItem:{type:Object,required:!0}},computed:{missionTypeName:function(){var t=Object(c["b"])(this.missionItem.missionTypePropertyId);return t.name}},mounted:function(){}},l=h,u=(i("4cbd"),i("2877")),d=Object(u["a"])(l,a,o,!1,null,"1a3bbc81",null),f=d.exports,p=i("f122"),m={name:"AcceptMission",components:{AcceptMissionItem:f},data:function(){return{searchData:"",listHeight:{height:"100%"},rightListHeight:{height:"100%"},orderType:["最新","优先","人气","苹果"],leftListActiveIndex:0,rightListBarActiveIndex:0,showLeftList:!1,tableData:[],isRefreshing:!1,isLoading:!1,isError:!1,isFinished:!1,pageNo:0,pageSize:10}},computed:{missionTypeList:function(){var t=this.getPropertyListByType(c["a"].MISSION_TYPE);return t.unshift({name:"全部"}),t},currentMissionTypeName:function(){var t=this.missionTypeList[this.leftListActiveIndex];return t.name}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.listHeight.height=window.innerHeight-this.$refs.topBar.offsetHeight+"px",this.rightListHeight.height=window.innerHeight-this.$refs.topBar.offsetHeight-this.$refs.menuBar.offsetHeight+"px";case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),activated:function(){var t=this.$store.state.missionAccept.needRemoveItemIdOnActive;this.tableData&&t&&(this.tableData.splice(this.tableData.findIndex(function(e){return e.id===t}),1),this.$store.commit("userNeedRemoveItemId",null))},methods:{loadData:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.httpPost(p["i"],{pageNo:this.pageNo,pageSize:this.pageSize,typePropertyId:0===this.leftListActiveIndex?null:this.missionTypeList[this.leftListActiveIndex].id,orderType:this.rightListBarActiveIndex});case 2:e=t.sent,e.success?(1===e.data.current?this.tableData=e.data.records:this.tableData=this.tableData.concat(e.data.records),e.data.current!==e.data.pages&&0!==e.data.records.length||(this.isFinished=!0)):this.isError=!0,this.isRefreshing=!1,this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){this.pageNo=1,this.loadData()},onNavBarLeftPressed:function(){this.$router.back()},onNavBarRightPressed:function(){this.$router.push({name:"MyMission"})},onSearch:function(){},onCancel:function(){},onLeftListItemClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.showLeftList=!1,this.leftListActiveIndex!==i&&(this.leftListActiveIndex=i,this.pageNo=0,this.isFinished=!1);case 2:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),onRightListBarItemClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.rightListBarActiveIndex!==i&&(this.rightListBarActiveIndex=i,this.pageNo=0,this.isFinished=!1);case 1:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),onRightListLoad:function(){this.pageNo++,this.loadData()},onLeftListShowPressed:function(){this.showLeftList=!this.showLeftList},onRightListItemClick:function(t){this.$router.push({name:"MissionDetail",query:{id:t.id}})}}},g=m,v=(i("da93"),Object(u["a"])(g,s,n,!1,null,"60167270",null));e["default"]=v.exports},"20d5":function(t,e,i){},"20d6":function(t,e,i){"use strict";var s=i("5ca1"),n=i("0a49")(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),s(s.P+s.F*a,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(r)},"4b27":function(t,e,i){},"4cbd":function(t,e,i){"use strict";var s=i("4b27"),n=i.n(s);n.a},da93:function(t,e,i){"use strict";var s=i("20d5"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-3d38fd7e.d536c54e.js.map